<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гунгер Кирилл Андреевич. Лабораторная 7</title>
    <link rel="stylesheet" href="main.css">
    <style>
        .circle{
            height: 50px;
            width: 50px;
            background-color: red;
            border: 2px solid;
            border-radius: 100%;
            text-align: center;
            line-height: 50px;
            font-size: 20pt;
        }
    </style>
    <script>
        function addBlock () {
            let blocks = document.getElementById('blocks');
            for (let i=0; i < 10; i++ ) {
                let block = document.createElement('div');
                block.innerHTML = 'Блок №' + (i+1) + ':' + (2 * i**2);
                blocks.appendChild(block); 
            }

        }
        function showprice() {
        
            let price = [70.5154, 70.1217, 70.0414, 70.3847, 70.5991, 70.8924, 71.5763, 72.8949, 72.7923, 73.6307];
            let table = document.getElementById('dollar-price');

            for (let i = 0; i < price.length; i++) {
                let tr = document.createElement('tr');
                let td = document.createElement('td');
                td.innerHTML = price[i]
                tr.appendChild(td);
                table.appendChild(tr)
            }

            let sum = 0;
            for(let i = 0; i < price.length; i++) {
                sum = sum + price [i];
            }
            let avg = sum / price.length;
            document.getElementById('detail').innerHTML = 'Среднее значение: ' + avg;
        }
        function addTransparenBlocks() {
            let opacity = 0;
            let blocks = document.getElementById('transparent-blocks');
            for (let i=0; i < 10; i++ ) {
                let block = document.createElement('div');
                block.style.opacity = opacity+'%'
                block.innerHTML = 'Блок №' + (i+1);
                blocks.appendChild(block); 
                opacity+=10
            }
        }
        function redGreen() {
            let input = document.getElementById('circlesCount');
            let circles = document.getElementById('circles');
            let c = parseInt(input.value)
            for (i=0; i<c; i++){
                let circle = document.createElement('div');
                circle.innerHTML = (c-i);
                circle.className = 'circle';
                if (i%2 == 0) {
                    circle.style.backgroundColor = 'green';
                }
                circles.appendChild(circle);
            }
        }
        function addProductTable() {
            let a = 10;
            let table = document.getElementById('product');
            for (let i = 13; i<=33; i++) {
                let tr = document.createElement('tr');
                let td = document.createElement('td');
                td.innerHTML = a + '*' + i + '=' + (a * i)
                tr.appendChild(td);
                table.appendChild(tr);
            }
        }
        function course() {
            let table = document.getElementById('tableCours');
            let date = ['06-06-2023', '02-06-2023', '01-06-2023', '31-05-2023', '30-05-2023', 
            '29-05-2023', '26-05-2023', '25-05-2023', '24-05-2023', '23-05-2023'];
            let price = [11350, 11250, 11250, 11150, 11200,
            11350, 11450, 11350, 12250, 11700];
            let sum = 0;

            for (let i = 0; i < price.length; i++) {
                let tr = document.createElement('tr');
                let tdPrice = document.createElement('td');
                let tdDate = document.createElement('td');
                let tdDifference = document.createElement('td');
                tdPrice.innerHTML = price[i];
                tdDate.innerHTML = date[i];
                if (i!=0) {tdDifference.innerHTML = (price[i] - price[(i-1)])}
                tr.appendChild(tdDate);
                tr.appendChild(tdPrice);
                tr.appendChild(tdDifference);
                table.appendChild(tr);
                sum += price [i];
            }
            let avg = sum / price.length;
            let maxPrice = Math.max(...price);
            let minPrice = Math.min(...price);
            document.getElementById('avg').innerHTML = 'Среднее значение: ' + avg;
            document.getElementById('max').innerHTML = 'Максимальная цена акции: ' + maxPrice;
            document.getElementById('min').innerHTML = 'Минимальная цена акции: ' + minPrice;
        }
    </script>
</head>
<body>
    <header>
        НГТУ, ФБ, Лабораторная работа 7
    </header>

    <main>
        <button onclick="addBlock()">Создать блоки</button>
        <div id="blocks"></div>

        <button onclick="showprice()">Курс доллара</button>
        <table border="2" id="dollar-price"></table>
        <div id="detail"></div>

        <button onclick="addTransparenBlocks()">Создать полупрозрачные блоки</button>
        <div id="transparent-blocks"></div>

        <input type="number" value="5" placeholder="введите число кругов" id="circlesCount">
        <button onclick="redGreen()">красное/зелёное</button>
        <div id="circles"></div>

        <button onclick="addProductTable()">Таблица умножения на 10</button>
        <table id = 'product'></table>

        <button onclick="course()">Курс акций Саратовский НПЗ</button>
        <table border="1" id="tableCours"></table>
        <div id="avg"></div>
        <div id="max"></div>
        <div id="min"></div>

    </main>

    <footer>
        Гунгер Кирилл, ФБИ-13, 2 курс, 2023
    </footer>
</body>
</html>